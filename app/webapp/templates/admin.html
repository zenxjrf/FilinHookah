<!doctype html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å | –§–∏–ª–∏–Ω Lounge Bar</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="/static/admin.css?v=20260222a">
</head>
<body>
<header class="admin-header">
    <h1>üë®‚Äçüíº –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h1>
    <button class="logout-btn" onclick="closeAdmin()">–ó–∞–∫—Ä—ã—Ç—å</button>
</header>

<main class="admin-container">
    <!-- –î–∞—à–±–æ—Ä–¥ -->
    <section class="admin-section">
        <h2>üìä –î–∞—à–±–æ—Ä–¥ –∑–∞ —Å–µ–≥–æ–¥–Ω—è</h2>
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value" id="stat-total">0</div>
                <div class="stat-label">–í—Å–µ–≥–æ –±—Ä–æ–Ω–µ–π</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="stat-now">0</div>
                <div class="stat-label">–°–µ–π—á–∞—Å –≤ –∑–∞–≤–µ–¥–µ–Ω–∏–∏</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="stat-expecting">0</div>
                <div class="stat-label">–û–∂–∏–¥–∞—é—Ç</div>
            </div>
            <div class="stat-card free">
                <div class="stat-value" id="stat-free">0</div>
                <div class="stat-label">–°–≤–æ–±–æ–¥–Ω—ã—Ö —Å—Ç–æ–ª–æ–≤</div>
            </div>
        </div>
    </section>

    <!-- –ö–∞—Ä—Ç–∞ —Å—Ç–æ–ª–æ–≤ -->
    <section class="admin-section">
        <h2>üó∫Ô∏è –ö–∞—Ä—Ç–∞ —Å—Ç–æ–ª–æ–≤</h2>
        <div class="tables-grid" id="tables-grid">
            <!-- –°—Ç–æ–ª—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è JS -->
        </div>
        <div class="legend">
            <div class="legend-item"><span class="legend-color free"></span> –°–≤–æ–±–æ–¥–µ–Ω</div>
            <div class="legend-item"><span class="legend-color booked"></span> –ë—Ä–æ–Ω—å</div>
            <div class="legend-item"><span class="legend-color occupied"></span> –ó–∞–Ω—è—Ç</div>
            <div class="legend-item"><span class="legend-color blocked"></span> –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω</div>
        </div>
    </section>

    <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å -->
    <section class="admin-section">
        <h2>üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å –±—Ä–æ–Ω–µ–π</h2>
        <div class="calendar-controls">
            <button onclick="changeDate(-1)">‚óÄ</button>
            <input type="date" id="calendar-date" onchange="loadCalendar()">
            <button onclick="changeDate(1)">‚ñ∂</button>
        </div>
        <div class="bookings-list" id="calendar-bookings">
            <!-- –ë—Ä–æ–Ω–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è JS -->
        </div>
        <button class="export-btn" onclick="exportToCSV()">üì• –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV</button>
    </section>

    <!-- –°–æ–±—ã—Ç–∏—è -->
    <section class="admin-section">
        <h2>üéâ –°–æ–±—ã—Ç–∏—è</h2>
        <button class="add-event-btn" onclick="showAddEventForm()">+ –î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ</button>
        <div class="events-list" id="events-list">
            <!-- –°–æ–±—ã—Ç–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è JS -->
        </div>
    </section>

    <!-- –ì–æ—Å—Ç–∏ -->
    <section class="admin-section">
        <h2>üë• –ì–æ—Å—Ç–∏</h2>
        <div class="search-box">
            <input type="text" id="guest-search" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É –∏–ª–∏ –∏–º–µ–Ω–∏..." oninput="searchGuests()">
        </div>
        <div class="guests-list" id="guests-list">
            <!-- –ì–æ—Å—Ç–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è JS -->
        </div>
    </section>
</main>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ: –î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ -->
<div class="modal" id="event-modal">
    <div class="modal-content">
        <h3>üéâ –î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ</h3>
        <form id="event-form">
            <input type="hidden" id="event-id">
            <div class="form-group">
                <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                <input type="text" id="event-title" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ñ–∏–≤–∞—è –º—É–∑—ã–∫–∞">
            </div>
            <div class="form-group">
                <label>–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è</label>
                <input type="datetime-local" id="event-datetime" required>
            </div>
            <div class="form-group">
                <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
                <textarea id="event-description" rows="3" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è"></textarea>
            </div>
            <div class="modal-actions">
                <button type="button" onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
                <button type="submit" class="primary">–°–æ–∑–¥–∞—Ç—å</button>
            </div>
        </form>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ: –ó–∞–º–µ—Ç–∫–∞ –∫ –≥–æ—Å—Ç—é -->
<div class="modal" id="notes-modal">
    <div class="modal-content">
        <h3>üìù –ó–∞–º–µ—Ç–∫–∞ –æ –≥–æ—Å—Ç–µ</h3>
        <form id="notes-form">
            <input type="hidden" id="notes-client-id">
            <div class="form-group">
                <label>–ó–∞–º–µ—Ç–∫–∞</label>
                <textarea id="notes-text" rows="4" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –õ—é–±–∏—Ç —Å—Ç–æ–ª —É –æ–∫–Ω–∞, –∞–ª–ª–µ—Ä–≥–∏–∫ –Ω–∞ –æ—Ä–µ—Ö–∏"></textarea>
            </div>
            <div class="modal-actions">
                <button type="button" onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
                <button type="submit" class="primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </form>
    </div>
</div>

<script src="/static/admin.js?v=20260223b"></script>
</body>
</html>

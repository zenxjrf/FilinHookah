# üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Render

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –°–ø–æ—Å–æ–± 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

#### –®–∞–≥ 1: –ó–∞–≥—Ä—É–∑–∏ –∫–æ–¥ –Ω–∞ GitHub

```bash
git add .
git commit -m "Filin Bot ready for Render"
git push origin main
```

#### –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–∏ Render –∫ GitHub

1. –ó–∞–π–¥–∏ –Ω–∞ [render.com](https://render.com)
2. –í–æ–π–¥–∏ —á–µ—Ä–µ–∑ GitHub
3. –ù–∞–∂–º–∏ **"New +"** ‚Üí **"Web Service"**
4. –í—ã–±–µ—Ä–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `Filin`

#### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π —Å–µ—Ä–≤–∏—Å

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| **Name** | `filin-webapp` |
| **Region** | Frankfurt (Germany) |
| **Branch** | `main` |
| **Root Directory** | (–æ—Å—Ç–∞–≤—å –ø—É—Å—Ç—ã–º) |
| **Runtime** | `Python 3` |
| **Build Command** | `pip install -r requirements.txt` |
| **Start Command** | `uvicorn app.webapp.app:app --host 0.0.0.0 --port 10000` |
| **Instance Type** | `Free` |

#### –®–∞–≥ 4: –î–æ–±–∞–≤—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í Render Dashboard ‚Üí Environment Variables –¥–æ–±–∞–≤—å:

```
BOT_TOKEN=8306362120:AAHXCXOXFk_Eam6gbfnwK0f0vTyI16RNFZo
WEBAPP_URL=https://filin-webapp.onrender.com
ADMIN_IDS=1698158035
WORKERS_CHAT_ID=-1003748695791
DATABASE_URL=sqlite+aiosqlite:///./filin.db
LOG_PATH=logs.txt
DEFAULT_SCHEDULE=–ï–∂–µ–¥–Ω–µ–≤–Ω–æ —Å 14:00 –¥–æ 2:00
DEFAULT_CONTACTS=Phone: +7 (000) 000-00-00\nAddress: Example street, 1
```

#### –®–∞–≥ 5: Deploy!

–ù–∞–∂–º–∏ **"Create Web Service"** –∏ –∂–¥–∏ ~2-3 –º–∏–Ω—É—Ç—ã.

Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç FastAPI —Å–µ—Ä–≤–µ—Ä
- ‚úÖ –î–∞—Å—Ç HTTPS URL
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç –∞–≤—Ç–æ-–¥–µ–ø–ª–æ–π –ø—Ä–∏ `git push`

---

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ render.yaml (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)

1. –ó–∞–≥—Ä—É–∑–∏ `render.yaml` –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –í Render –Ω–∞–∂–º–∏ **"New +"** ‚Üí **"Blueprint"**
3. –ü–æ–¥–∫–ª—é—á–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ `render.yaml`

---

## üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã WebApp

### 1. –ü—Ä–æ–≤–µ—Ä—å –∫–æ—Ä–Ω–µ–≤–æ–π URL

–û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
https://filin-webapp.onrender.com
```

–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è:
```json
{"status": "ok", "service": "Filin Hookah Bot"}
```

### 2. –ü—Ä–æ–≤–µ—Ä—å WebApp

–û—Ç–∫—Ä–æ–π:
```
https://filin-webapp.onrender.com/webapp
```

–î–æ–ª–∂–Ω–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è HTML-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –º–µ–Ω—é.

### 3. –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç–∏–∫—É

–û—Ç–∫—Ä–æ–π:
```
https://filin-webapp.onrender.com/static/styles.css
```

–î–æ–ª–∂–µ–Ω –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è CSS —Ñ–∞–π–ª.

### 4. –ü—Ä–æ–≤–µ—Ä—å API

–û—Ç–∫—Ä–æ–π:
```
https://filin-webapp.onrender.com/health
```

–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è:
```json
{"status": "ok"}
```

---

## üì± –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞

### 1. –û–±–Ω–æ–≤–∏ WEBAPP_URL

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è Render –≤—ã–¥–∞—Å—Ç URL –≤–∏–¥–∞:
```
https://filin-webapp.onrender.com
```

–û–±–Ω–æ–≤–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `WEBAPP_URL` –≤ Render Dashboard:
```
WEBAPP_URL=https://filin-webapp.onrender.com/webapp
```

### 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å

–í Render Dashboard ‚Üí Manual Deploy ‚Üí **"Deploy Latest Commit"**

–ò–ª–∏ —Å–¥–µ–ª–∞–π commit:
```bash
git commit --allow-empty -m "Trigger redeploy"
git push
```

### 3. –ù–∞—Å—Ç—Ä–æ–π Menu Button

1. –û—Ç–∫—Ä–æ–π @BotFather
2. `/mybots` ‚Üí FilinHookah_bot
3. **Menu Button** ‚Üí –æ—Ç–ø—Ä–∞–≤—å URL: `https://filin-webapp.onrender.com/webapp`

---

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

### –õ–æ–≥–∏
Render Dashboard ‚Üí **Logs**

### –ú–µ—Ç—Ä–∏–∫–∏
Render Dashboard ‚Üí **Metrics**

### –ê–≤—Ç–æ-–¥–µ–ø–ª–æ–π
–ü—Ä–∏ `git push` –≤ –≤–µ—Ç–∫—É `main` Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä—ë—Ç —Å–µ—Ä–≤–∏—Å.

---

## ‚ùå –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

| –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|---------|
| **404 –Ω–∞ /webapp** | –ü—Ä–æ–≤–µ—Ä—å Start Command: `uvicorn app.webapp.app:app --host 0.0.0.0 --port 10000` |
| **–ù–µ –≥—Ä—É–∑–∏—Ç—Å—è —Å—Ç–∞—Ç–∏–∫–∞** | –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Ñ–∞–π–ª—ã –≤ `app/webapp/static/` |
| **500 –æ—à–∏–±–∫–∞** | –°–º–æ—Ç—Ä–∏ –ª–æ–≥–∏ –≤ Render Dashboard |
| **–ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç** | –ü—Ä–æ–≤–µ—Ä—å BOT_TOKEN –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö |
| **WebApp –ø—É—Å—Ç–æ–π** | –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –Ω–∞ –æ—à–∏–±–∫–∏ JS |
| **–°–ø–∏—Ç —Å–µ—Ä–≤–∏—Å** | Free —Ç–∞—Ä–∏—Ñ –∑–∞—Å—ã–ø–∞–µ—Ç —á–µ—Ä–µ–∑ 15 –º–∏–Ω –±–µ–∑ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. –ò—Å–ø–æ–ª—å–∑—É–π [UptimeRobot](https://uptimerobot.com) –¥–ª—è –ø–∏–Ω–≥–∞. |

---

## üí∞ –¢–∞—Ä–∏—Ñ—ã Render

| –¢–∞—Ä–∏—Ñ | –¶–µ–Ω–∞ | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ |
|-------|------|-------------|
| **Free** | $0 | –ó–∞—Å—ã–ø–∞–µ—Ç —á–µ—Ä–µ–∑ 15 –º–∏–Ω, 750 —á–∞—Å–æ–≤/–º–µ—Å |
| **Starter** | $7/–º–µ—Å | –ù–µ –∑–∞—Å—ã–ø–∞–µ—Ç, 500 –ì–ë —Ç—Ä–∞—Ñ–∏–∫–∞ |

**–î–ª—è –Ω–∞—á–∞–ª–∞ —Ö–≤–∞—Ç–∏—Ç Free —Ç–∞—Ä–∏—Ñ–∞!**

---

## üéØ –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫–ª–∏—Å—Ç

- [ ] –ö–æ–¥ –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ GitHub
- [ ] –°–µ—Ä–≤–∏—Å —Å–æ–∑–¥–∞–Ω –Ω–∞ Render
- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [ ] `/health` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{"status": "ok"}`
- [ ] `/webapp` –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç HTML —Å—Ç—Ä–∞–Ω–∏—Ü—É
- [ ] `/static/styles.css` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- [ ] –ö–Ω–æ–ø–∫–∞ –≤ –±–æ—Ç–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç WebApp
- [ ] Menu Button –Ω–∞—Å—Ç—Ä–æ–µ–Ω

**–ì–æ—Ç–æ–≤–æ! ü¶â**
